<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Въдици - D&B Fishing</title>
  <link rel="stylesheet" href="/css/css.css">
  <style>
    .product-card img {
      transition: transform 0.3s cubic-bezier(.25,.8,.25,1);
      cursor: zoom-in;
    }
    .product-card img:hover {
      transform: scale(1.25);
      z-index: 2;
      box-shadow: 0 4px 24px rgba(0,0,0,0.18);
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="top-bar header-container">
      <div class="top-bar-section">
        <a href="tel:1-800-555-1234">
          <span class="contact-info__text">0878716188</span>
        </a>
        <a href="mailto:info@yourcorp.com">
          <span class="contact-info__text">D&Bfishing@gmail.com</span>
        </a>
      </div>
      <div class="top-bar-section social-links">
        <!-- Social icons can be added here if needed -->
      </div>
    </div>
    <div class="main-navbar header-container">
      <a href="/homepage.html" class="main-navbar__brand" aria-label="Homepage">
        <img src="/images/Lucid_Origin_Please_generate_a_detailed_and_creative_logo_desc_1.jpg" alt="D&B Fishing Logo" style="height: 60px;width: 70px;"/>
      </a>
      <nav id="navbarMenu" class="main-navbar__menu" role="navigation">
        <ul class="main-navbar__list">
          <li class="main-navbar__item"><a href="/homepage.html" class="main-navbar__link">Начало</a></li>
          <li class="main-navbar__item dropdown">
            <a href="#" class="main-navbar__link" id="services-dropdown" role="button" aria-haspopup="true" aria-expanded="false">Услуги</a>
            <ul class="dropdown-menu" aria-labelledby="services-dropdown">
              <li><a href="/service-maintenance.html">Поддръжка и ремонт на оборудване</a></li>
              <li><a href="/service-advice.html">Съвети за избор на риболовни принадлежности</a></li>
              <li><a href="/service-events.html">Събития и турнири</a></li>
              <li><a href="/service-vouchers.html">Подаръчни ваучери</a></li>
            </ul>
          </li>
          <li class="main-navbar__item"><a href="/about.html" class="main-navbar__link">За нас</a></li>
          <li class="main-navbar__item"><a href="/cart.html" class="main-navbar__link cart-link" aria-label="Количка">Количка <span id="cart-count" class="cart-count">0</span></a></li>
          <li class="main-navbar__item main-navbar__item--cta"><a href="/contact.html" class="main-navbar__link main-navbar__link--cta">Свържете се с нас</a></li>
          <li class="main-navbar__item"><a href="/login.html" class="main-navbar__link">Вход</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <main>
    <section class="product-list">
      <h2>Влакна</h2>
      <div class="product-slider">
                <div class="product-card" data-product-id="rod-4" data-images="images/Уолкър.jpg" data-title="Уолкър Shimano COLTSNIPER ROCK WALK 110F" data-price="69,00 лв." data-desc="Уолкър Shimano COLTSNIPER ROCK WALK 110F" data-brand="Shimano" data-category="Повърхностни" data-href="/product/zebco-trophy-tele-track.html" data-sku="O 59VOT111S00">
                  <img src="images/Уолкър.jpg" alt="Zebco Trophy Tele Track">
                  <h4>Уолкър Shimano COLTSNIPER ROCK WALK 110F</h4>
                  <p class="price">23,93 € /46,80 лв.</p>
                  <a href="#" class="btn-details" data-quick="true">Виж детайли</a>
                  <button class="btn-add-cart" type="button">Добави в количката</button>
                </div>
                <div class="product-card" data-product-id="rod-5" data-images="images/Попери.jpg" data-title="Попери Owner GP-60F" data-price="121,01 лв." data-desc="Попери Owner GP-60F" data-brand="Owner" data-category="Повърхностни" data-href="/product/rapture-vindicta-ii.html" data-sku=" Q 52640006">
                  <img src="images/Попери.jpg" alt="Rapture Vindicta II">
                  <h4>Попери Owner GP-60F</h4>
                  <p class="price">18,90 € / 36,97 лв.</p>
                  <a href="#" class="btn-details" data-quick="true">Виж детайли</a>
                  <button class="btn-add-cart" type="button">Добави в количката</button>
                </div>
        <div class="product-card" data-product-id="rod-1" data-images="images/Цикада.jpg" data-title="Цикада Sea Buzz FIRE BLADE - 5.5см" data-price="489,00 лв." data-desc="Цикада Sea Buzz FIRE BLADE - 5.5см" data-brand="Sea Buzz" data-category="Цикади" data-href="/product/shimano-tx5a-intensity.html" data-sku=" F 950856">
          <img src="images/Цикада.jpg" alt="Shimano TRIBAL TX-5A INTENSITY">
          <h4>Цикада Sea Buzz FIRE BLADE - 5.5см</h4>
          <p class="price">от 16,11 € / 31,51 лв.</p>
          <a href="#" class="btn-details" data-quick="true">Виж детайли</a>
          <button class="btn-add-cart" type="button">Добави в количката</button>
        </div>
        <div class="product-card" data-product-id="rod-2" data-images="images/Рапала.jpg" data-title=">Примамка Rapala SQUID - 9см" data-price="137,01 лв." data-desc=">Примамка Rapala SQUID - 9см" data-brand="Rapala" data-category="Калмариери" data-href="/product/vertis-demon-tele-carp.html" data-sku="F 936839">
          <img src="images/Рапала.jpg" alt="Vertis DEMON Tele Carp 3.90m 3.5Lb">
          <h4>Примамка Rapala SQUID - 9см</h4>
          <p class="price">11,35 € / 22,20 лв.</p>
          <a href="#" class="btn-details" data-quick="true">Виж детайли</a>
          <button class="btn-add-cart" type="button">Добави в количката</button>
        </div>
        <div class="product-card" data-product-id="rod-3" data-images="images/Зури.jpg" data-title="Калмариера Yo-Zuri EZ-SLIM CLOTH A1626 - 8см" data-price="241,00 лв." data-desc="Калмариера Yo-Zuri EZ-SLIM CLOTH A1626 - 8см" data-brand="Yo-Zuri" data-category="Калмариера" data-href="/product/shimano-txa-spod.html" data-sku=" 8717009744803">
          <img src="images/Зури.jpg" alt="Shimano TX-A SPOD">
          <h4>Калмариера Yo-Zuri EZ-SLIM CLOTH A1626 - 8см</h4>
          <p class="price">17,22 € / 33,68 лв.</p>
          <a href="#" class="btn-details" data-quick="true">Виж детайли</a>
          <button class="btn-add-cart" type="button">Добави в количката</button>
        </div>
      </div>
    </section>
  </main>
  <footer>
    © 2025 D&B Fishing. Всички права запазени.
  </footer>
  <!-- Product Details Modal -->
  <div id="product-modal" class="product-modal" style="display:none;position:fixed;z-index:10000;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.3);align-items:center;justify-content:center;">
    <div class="modal-content" style="background:#fff;max-width:900px;width:95vw;display:flex;flex-wrap:wrap;padding:32px;position:relative;box-sizing:border-box;">
      <button id="modal-close" style="position:absolute;top:12px;right:16px;font-size:2rem;background:none;border:none;cursor:pointer;">&times;</button>
      <div class="modal-img" style="flex:1 1 350px;min-width:320px;max-width:420px;display:flex;align-items:center;justify-content:center;">
        <img id="modal-product-img" src="" alt="" style="max-width:100%;max-height:400px;object-fit:contain;">
      </div>
      <div class="modal-info" style="flex:2 1 350px;min-width:320px;padding:0 24px;">
        <h2 id="modal-product-title" style="margin-top:0;"></h2>
        <div style="margin-bottom:8px;">
          Категория: <span id="modal-product-category"></span> Марка: <span id="modal-product-brand"></span> SKU: <span id="modal-product-sku"></span>
        </div>
        <div id="modal-product-price" style="font-size:2rem;font-weight:bold;color:#0099e6;margin-bottom:8px;"></div>
        <div style="margin-bottom:8px;"><span style="background:#4caf50;color:#fff;padding:2px 8px;border-radius:4px;font-size:1rem;">Наличен</span></div>
        <form id="modal-buy-form" style="background:#f7f7f7;padding:16px 12px;border-radius:8px;max-width:350px;">
          <div style="margin-bottom:12px;">
            <label style="font-weight:bold;">ТЕГЛО:</label><br>
            <span id="modal-product-sizes"></span>
          </div>
          <div style="margin-bottom:12px;">
            <label style="font-weight:bold;">КОЛИЧЕСТВО:</label><br>
            <input id="modal-product-qty" type="number" min="1" value="1" style="width:60px;padding:4px;">
          </div>
          <button type="button" id="modal-buy-btn" style="width:100%;background:#0099e6;color:#fff;font-size:1.2rem;padding:10px 0;margin-bottom:8px;border:none;border-radius:4px;cursor:pointer;">КУПИ</button>
          <button type="button" id="modal-order-btn" style="width:100%;background:#fff;color:#0099e6;font-size:1.1rem;padding:10px 0;border:2px solid #0099e6;border-radius:4px;cursor:pointer;">ПОРЪЧКА БЕЗ РЕГИСТРАЦИЯ</button>
        </form>
      </div>
    </div>
  </div>

  <script>
  // Modal logic for product details
  document.addEventListener('DOMContentLoaded', function() {
    const modal = document.getElementById('product-modal');
    const closeBtn = document.getElementById('modal-close');
    const img = document.getElementById('modal-product-img');
    const title = document.getElementById('modal-product-title');
    const category = document.getElementById('modal-product-category');
    const brand = document.getElementById('modal-product-brand');
    const sku = document.getElementById('modal-product-sku');
    const price = document.getElementById('modal-product-price');
    const sizes = document.getElementById('modal-product-sizes');
    const qty = document.getElementById('modal-product-qty');
    const buyBtn = document.getElementById('modal-buy-btn');
    const orderBtn = document.getElementById('modal-order-btn');

    // Example sizes for demo (could be dynamic per product)
    const sizeOptions = ['9 g'];

    document.querySelectorAll('.btn-details').forEach(function(btn) {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        const card = btn.closest('.product-card');
        if (!card) return;
        // Fill modal with product data
        img.src = (card.getAttribute('data-images')||'').split(',')[0] || card.querySelector('img').src;
        img.alt = card.getAttribute('data-title');
        title.textContent = card.getAttribute('data-title');
        category.textContent = card.getAttribute('data-category');
        brand.textContent = card.getAttribute('data-brand');
        sku.textContent = card.getAttribute('data-sku');
        // Price: try to show both currencies if present
        let priceText = card.querySelector('.price') ? card.querySelector('.price').textContent : card.getAttribute('data-price');
        price.innerHTML = priceText;
        // Sizes
        sizes.innerHTML = sizeOptions.map(sz => `<button type="button" class="size-btn" style="margin:0 4px 4px 0;padding:4px 12px;border:1px solid #aaa;border-radius:4px;background:#fff;cursor:pointer;">${sz}</button>`).join(' ');
        // Reset qty
        qty.value = 1;
        // Show modal
        modal.style.display = 'flex';
        // Size selection logic
        sizes.querySelectorAll('.size-btn').forEach(function(btn, idx) {
          btn.addEventListener('click', function() {
            sizes.querySelectorAll('.size-btn').forEach(b => {b.style.background = '#fff';b.style.color='#222';});
            btn.style.background = '#0099e6';
            btn.style.color = '#fff';
            btn.setAttribute('data-selected', 'true');
          });
          if (idx === 0) btn.click(); // select first by default
        });
      });
    });
    closeBtn.addEventListener('click', function() {
      modal.style.display = 'none';
    });
    // Optional: close modal on outside click
    modal.addEventListener('click', function(e) {
      if (e.target === modal) modal.style.display = 'none';
    });
    // Buy/order button logic (demo only)
    buyBtn.addEventListener('click', function() {
      // Add to cart logic
      const item = {
        name: title.textContent,
        price: price.textContent,
        desc: '',
        brand: brand.textContent,
        category: category.textContent,
        sku: sku.textContent,
        images: img.src,
        qty: parseInt(qty.value, 10) || 1
      };
      if (window.addToCart) {
        window.addToCart(item);
      } else if (typeof addToCart === 'function') {
        addToCart(item);
      } else {
        // fallback: localStorage direct
        let cart = [];
        try { cart = JSON.parse(localStorage.getItem('cart') || '[]'); } catch (e) {}
        const idx = cart.findIndex(c => c.sku === item.sku);
        if (idx > -1) { cart[idx].qty = (cart[idx].qty || 1) + item.qty; }
        else { cart.push(item); }
        localStorage.setItem('cart', JSON.stringify(cart));
        // update cart count if present
        const countEl = document.getElementById('cart-count');
        if (countEl) {
          countEl.textContent = cart.reduce((sum, it) => sum + (it.qty || 1), 0);
        }
      }
      // Optionally close modal or give feedback
      modal.style.display = 'none';
      // Update cart count on page load
      document.addEventListener('DOMContentLoaded', function() {
        if (window.updateCartCount) {
          window.updateCartCount();
        } else {
          const countEl = document.getElementById('cart-count');
          if (countEl) {
            let cart = [];
            try { cart = JSON.parse(localStorage.getItem('cart') || '[]'); } catch (e) {}
            countEl.textContent = cart.reduce((sum, it) => sum + (it.qty || 1), 0);
          }
        }
      });
    });
    orderBtn.addEventListener('click', function() {
      alert('Поръчка без регистрация: ' + title.textContent);
    });
  });
  </script>
  <script>
  // Simple cart logic using localStorage
  function getCart() {
    try { return JSON.parse(localStorage.getItem('cart') || '[]'); } catch (e) { return []; }
  }
  function saveCart(cart) { localStorage.setItem('cart', JSON.stringify(cart)); }
  function addToCart(item) {
    const cart = getCart();
    const idx = cart.findIndex(c => c.sku === item.sku);
    if (idx > -1) { cart[idx].qty = (cart[idx].qty || 1) + (item.qty || 1); }
    else { cart.push(Object.assign({ qty: item.qty || 1 }, item)); }
    saveCart(cart);
    // Update cart count UI if present (no alert)
    const countEl = document.getElementById('cart-count');
    if (countEl) countEl.textContent = cart.reduce((sum, it) => sum + (it.qty || 1), 0);
  }
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.product-card .btn-add-cart').forEach(function(btn) {
      btn.addEventListener('click', function(e) {
        const card = btn.closest('.product-card');
        if (!card) return;
        const item = {
          name: card.getAttribute('data-title'),
          price: card.getAttribute('data-price'),
          desc: card.getAttribute('data-desc'),
          brand: card.getAttribute('data-brand'),
          category: card.getAttribute('data-category'),
          sku: card.getAttribute('data-sku'),
          images: card.getAttribute('data-images'),
          qty: 1
        };
        addToCart(item);
        const original = btn.textContent;
        btn.textContent = 'Добавено';
        setTimeout(() => btn.textContent = original, 1200);
        const countEl = document.getElementById('cart-count');
        if (countEl) {
          let cart = [];
          try { cart = JSON.parse(localStorage.getItem('cart') || '[]'); } catch (e) {}
          countEl.textContent = cart.reduce((sum, it) => sum + (it.qty || 1), 0);
        }
      });
    });
  });
  </script>
</body>
</html>
